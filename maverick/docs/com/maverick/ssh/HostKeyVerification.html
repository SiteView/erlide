<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Fri Feb 24 18:17:50 UTC 2012 -->
<TITLE>
HostKeyVerification (J2SSH Maverick Javadocs)
</TITLE>

<META NAME="date" CONTENT="2012-02-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HostKeyVerification (J2SSH Maverick Javadocs)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/HostKeyVerification.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/maverick/ssh/ForwardingRequestListener.html" title="interface in com.maverick.ssh"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/maverick/ssh/LicenseManager.html" title="class in com.maverick.ssh"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/maverick/ssh/HostKeyVerification.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HostKeyVerification.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.maverick.ssh</FONT>
<BR>
Interface HostKeyVerification</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/sshtools/publickey/AbstractKnownHostsKeyVerification.html" title="class in com.sshtools.publickey">AbstractKnownHostsKeyVerification</A>, <A HREF="../../../com/sshtools/publickey/ConsoleKnownHostsKeyVerification.html" title="class in com.sshtools.publickey">ConsoleKnownHostsKeyVerification</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>HostKeyVerification</B></DL>
</PRE>

<P>
<p>This interface provides a callback method so that the user can verify the identity of the server
 (by checking the public key) during the initial protocol negotiation. This check is performed at the
 beginning of each connection to prevent trojan horses (by routing or DNS spoofing) and man-in-the-middle
 attacks.
 </p>
 <p>The user should verify that the key is acceptable; the most usual method being a local database
 file called <em>known_hosts</em>. The core J2SSH Maverick engine does not enforce any specific host key
 verification in order that the engine can be used on Java platforms that do not have File objects. A
 <em>known_hosts</em> implementation
 <a href="../../sshtools/publickey/AbstractKnownHostsKeyVerification.html">AbstractKnownHostsKeyVerification</a>
 can be found in the SSHTools utility classes supplied with the J2SSH Maverick API. This also includes the
 basic <a href="../../sshtools/publickey/ConsoleKnownHostsKeyVerification.html">ConsoleKnownHostsKeyVerification</a>
 which performs the check by prompting the user through stdin/stdout.
 </p>
 <p>
 The public key instances supplied to the <a href="#verifyHost(java.lang.String, com.maverick.ssh.components.SshPublicKey)">
 verifyHost</a> method will be one of the following implementations:<br>
 <br>
 For SSH1 the key will always be <a href="../ssh1/Ssh1RsaPublicKey.html">Ssh1RsaPublicKey</a><br>
 <br>
 For SSH2 the key will either be <a href="../ssh2/Ssh2RsaPublicKey.html">Ssh2RsaPublicKey</a> or
 <a href="../ssh2/Ssh2DsaPublicKey.html">Ssh2DsaPublicKey</a>.
 </p>
 <p>To set a host key verification you must get an instance of the
 SshConnector and configure the SSH version context's with your implementation.
 The following example shows how to set a verification instance for both SSH1 and
 SSH2:
 <blockquote><pre>
 SshConnector con = SshConnector.getInstance();

 HostKeyVerification hkv = new HostKeyVerification() {
   public boolean verifyHost(String name, SshPublicKey key)
              throws IOException {
      // Verify the host somehow???
      return true;
   }
 };
 SshContext context = con.getContext(SshConnector.SSH1);
 context.setHostKeyVerification(hkv);

 context = con.getContext(SshConnector.SSH2);
 context.setHostKeyVerification(hkv);
 </pre></blockquote>
 </p>
 <p>You could also set different verification implementations according to protocol, for
 example if you were using <em>known_hosts</em> for SSH1 and <em>known_hosts2</em>
 for SSH2 you could use the previously described utility classes to set different
 lookup databases.</p>
 <blockquote><pre>
 SshConnector con = SshConnector.getInstance();

 SshContext context = con.getContext(SshConnector.SSH1);
 context.setHostKeyVerification(new ConsoleKnownHostsKeyVerification(
                                 System.getProperty("user.home")
                                 + "/.ssh/known_hosts"));

 context = con.getContext(SshConnector.SSH2);
 context.setHostKeyVerification(new ConsoleKnownHostsKeyVerification(
                                 System.getProperty("user.home")
                                 + "/.ssh/known_hosts2"));
 </pre></blockquote>
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Lee David Painter</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/maverick/ssh/HostKeyVerification.html#verifyHost(java.lang.String, com.maverick.ssh.components.SshPublicKey)">verifyHost</A></B>(java.lang.String&nbsp;host,
           <A HREF="../../../com/maverick/ssh/components/SshPublicKey.html" title="interface in com.maverick.ssh.components">SshPublicKey</A>&nbsp;pk)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify that the public key is acceptable for the host.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="verifyHost(java.lang.String, com.maverick.ssh.components.SshPublicKey)"><!-- --></A><H3>
verifyHost</H3>
<PRE>
boolean <B>verifyHost</B>(java.lang.String&nbsp;host,
                   <A HREF="../../../com/maverick/ssh/components/SshPublicKey.html" title="interface in com.maverick.ssh.components">SshPublicKey</A>&nbsp;pk)
                   throws <A HREF="../../../com/maverick/ssh/SshException.html" title="class in com.maverick.ssh">SshException</A></PRE>
<DL>
<DD>Verify that the public key is acceptable for the host.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>host</CODE> - the name of the connected host<DD><CODE>pk</CODE> - the public key supplied by the host
<DT><B>Returns:</B><DD><code>true</code> if the host key is acceptable otherwise
         <code>false</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/maverick/ssh/SshException.html" title="class in com.maverick.ssh">SshException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/HostKeyVerification.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/maverick/ssh/ForwardingRequestListener.html" title="interface in com.maverick.ssh"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/maverick/ssh/LicenseManager.html" title="class in com.maverick.ssh"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/maverick/ssh/HostKeyVerification.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HostKeyVerification.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

					<i>Copyright &#169; 2003-2011 SSHTOOLS Limited. All Rights Reserved.</i>
</BODY>
</HTML>
