<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Tue Sep 20 18:31:06 BST 2011 -->
<TITLE>
AuthenticationMechanism (SSHD Maverick Javadocs)
</TITLE>

<META NAME="date" CONTENT="2011-09-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AuthenticationMechanism (SSHD Maverick Javadocs)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AuthenticationMechanism.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/maverick/sshd/AccessManagerAdapter.html" title="class in com.maverick.sshd"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html" title="class in com.maverick.sshd"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/maverick/sshd/AuthenticationMechanism.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AuthenticationMechanism.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.maverick.sshd</FONT>
<BR>
Interface AuthenticationMechanism</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/maverick/sshd/GSSAPIWithMICAuthentication.html" title="class in com.maverick.sshd">GSSAPIWithMICAuthentication</A>, <A HREF="../../../com/maverick/sshd/KeyboardInteractiveAuthentication.html" title="class in com.maverick.sshd">KeyboardInteractiveAuthentication</A>, <A HREF="../../../com/maverick/sshd/NoneAuthentication.html" title="class in com.maverick.sshd">NoneAuthentication</A>, <A HREF="../../../com/maverick/sshd/PasswordAuthentication.html" title="class in com.maverick.sshd">PasswordAuthentication</A>, <A HREF="../../../com/maverick/sshd/PublicKeyAuthentication.html" title="class in com.maverick.sshd">PublicKeyAuthentication</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>AuthenticationMechanism</B></DL>
</PRE>

<P>
<p>Each authentication mechanism the server supports should implement
 this interface. When an authentication request is received from the client
 the server looks up the authentication method name, for example "password"
 from the <CODE>com.maverick.sshd.ConfigurationContext</CODE>. To support a new type
 of SSH authentication mechanism, or to overide an existing
 implementation you should add its Class object to the ConfigurationContext. This
 can be acheived by adding the following code to your
 <CODE>com.maverick.sshd.SshDaemon</CODE> code implementation of the
 <CODE>com.maverick.sshd.SshDaemon#configure(ConfigurationContext)</CODE> method.
 <blockquote><pre>
 protected void configure(ConfigurationContext context) {
    context.supportedAuthenticationMechanisms().add(
        "kerberos@sshtools.com",
        Class.forName("com.sshtools.kerberos.SSHKerberos"));
 }
 </pre></blockquote></p>

 <p><em>The SSH protocol recommends that method names are in the name@domain.com
 syntax.</em></p>

 <p>The server will initialize your authentication object first by calling the
 <A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#init(com.maverick.sshd.TransportProtocol, com.maverick.sshd.AuthenticationProtocol, byte[])"><CODE>init(com.maverick.sshd.TransportProtocol, com.maverick.sshd.AuthenticationProtocol, byte[])</CODE></A> method, you should save the variables provided as these will
 be required to communicate back to the client. Once initialized the
 transaction will be started by the server by calling the <A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#startRequest(java.lang.String, byte[])"><CODE>startRequest(java.lang.String, byte[])</CODE></A>
 method. Here you will be provided with the users' name and the request specific
 data. How you proceed from here depends upon the authentication mechanism, in
 the standard password authentication mechanism, the password is provided in the
 request data and a native login takes place. If the authentication is
 successful your implementation should call the <A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html#completedAuthentication()"><CODE>AuthenticationProtocol.completedAuthentication()</CODE></A>
 method, if it fails call <A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html#failedAuthentication()"><CODE>AuthenticationProtocol.failedAuthentication()</CODE></A>
 instead.</p>

 <p>If your mechanism require further SSH messages to be sent you send them
 using <A HREF="../../../com/maverick/sshd/TransportProtocol.html#sendMessage(com.maverick.sshd.SshMessage)"><CODE>TransportProtocol.sendMessage(SshMessage)</CODE></A> and
 messages sent by the client will be received by your
 <A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#processMessage(byte[])"><CODE>processMessage(byte[])</CODE></A>
 implementation.</p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Lee David Painter</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#getMethod()">getMethod</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the SSH method name for this authentication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#init(com.maverick.sshd.TransportProtocol, com.maverick.sshd.AuthenticationProtocol, byte[])">init</A></B>(<A HREF="../../../com/maverick/sshd/TransportProtocol.html" title="class in com.maverick.sshd">TransportProtocol</A>&nbsp;transport,
     <A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html" title="class in com.maverick.sshd">AuthenticationProtocol</A>&nbsp;authentication,
     byte[]&nbsp;sessionid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the mechanism with variables.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#processMessage(byte[])">processMessage</A></B>(byte[]&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the SSH protocol authentication method defines additional messages
 which are sent from the client, they will be passed into your
 implementation here when received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/maverick/sshd/AuthenticationMechanism.html#startRequest(java.lang.String, byte[])">startRequest</A></B>(java.lang.String&nbsp;username,
             byte[]&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start an authentication transaction.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init(com.maverick.sshd.TransportProtocol, com.maverick.sshd.AuthenticationProtocol, byte[])"><!-- --></A><H3>
init</H3>
<PRE>
void <B>init</B>(<A HREF="../../../com/maverick/sshd/TransportProtocol.html" title="class in com.maverick.sshd">TransportProtocol</A>&nbsp;transport,
          <A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html" title="class in com.maverick.sshd">AuthenticationProtocol</A>&nbsp;authentication,
          byte[]&nbsp;sessionid)
          throws java.io.IOException</PRE>
<DL>
<DD>Initializes the mechanism with variables.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transport</CODE> - the transport protocol<DD><CODE>authentication</CODE> - the authentication protocol<DD><CODE>sessionid</CODE> - the id of the current session.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startRequest(java.lang.String, byte[])"><!-- --></A><H3>
startRequest</H3>
<PRE>
boolean <B>startRequest</B>(java.lang.String&nbsp;username,
                     byte[]&nbsp;msg)
                     throws java.io.IOException</PRE>
<DL>
<DD>Start an authentication transaction. If the authentication mechanism is
 simple and you can determine the result from all information received in
 the SSH_MSG_USERAUTH_REQUEST message, you should call the approriate
 completion methods on the <A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html" title="class in com.maverick.sshd"><CODE>AuthenticationProtocol</CODE></A>
 instance that was passed in the initialization process. The request
 data varies according to the authentication method.
 <blockquote><pre>
 if (success)
   authentication.completedAuthentication(method, username, service);
 else
   authentication.failedAuthentication(method);
 </pre></blockquote>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - the request data from the SSH_MSG_USERAUTH_REQUEST message
<DT><B>Returns:</B><DD><tt>true</tt> if the message was processed, otherwise <tt>false</tt>
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="processMessage(byte[])"><!-- --></A><H3>
processMessage</H3>
<PRE>
boolean <B>processMessage</B>(byte[]&nbsp;msg)
                       throws java.io.IOException</PRE>
<DL>
<DD>If the SSH protocol authentication method defines additional messages
 which are sent from the client, they will be passed into your
 implementation here when received.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - 
<DT><B>Returns:</B><DD>boolean
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getMethod()"><!-- --></A><H3>
getMethod</H3>
<PRE>
java.lang.String <B>getMethod</B>()</PRE>
<DL>
<DD>Return the SSH method name for this authentication. e.g "password"
<P>
<DD><DL>

<DT><B>Returns:</B><DD>String</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AuthenticationMechanism.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/maverick/sshd/AccessManagerAdapter.html" title="class in com.maverick.sshd"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/maverick/sshd/AuthenticationProtocol.html" title="class in com.maverick.sshd"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/maverick/sshd/AuthenticationMechanism.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AuthenticationMechanism.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

							<i>Copyright &#169; 2003-2008 SSHTools LTD. All Rights Reserved.</i>
</BODY>
</HTML>
